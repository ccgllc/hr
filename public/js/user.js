webpackJsonp([5],{5:function(e,t,n){e.exports=n("DHPx")},DHPx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("I3G/"),s=n.n(r),i=n("c+1i"),a=n("d0ki"),o=n("vgNk"),u=n.n(o);s.a.component("search",u.a);new s.a({name:"User Administration",propsData:["token"],el:"#user",data:{userData:a.a,userService:new i.a({uri:{prefix:"api",resource:"users"},api_token:this.token,current_page:0})},computed:{resetUsers:function(){return 0==this.userData.users.length?this.userData.users=window.users.data:"Users in list"}},mounted:function(){this.current_page=window.users.current_page,this.userData.users=window.users.data},methods:{toggleMenu:function(e){var t=document.getElementById(e);"none"==t.style.display?t.style.display="block":t.style.display="none"},getUsers:function(){var e=this;this.userService.get("all").then(function(t){e.userData.users=t}).catch(function(e){console.log(e)})}}})},GluO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Lczc"),s=n("d0ki");t.default={name:"search",data:function(){return{userData:s.a,search:new r.a({query:"",api_token:""}),results:[],complete:!0,selectedResult:0}},computed:{isSelected:function(){return this.results[this.selectedResult].id}},methods:{dynamicSearch:_.debounce(function(e){var t=this.detectKeyboardAction(e);console.log(t),t||""==this.search.query||this.submit(),""==this.search.query&&(this.results=[])},200),detectKeyboardAction:function(e){switch(console.log(e.code),e.key){case"Escape":return this.search.query="",this.results=[],!0;case"Enter":return window.location="/user/"+this.isSelected,!0;case"ArrowDown":return this.selectedResult+1<this.results.length&&(this.selectedResult+=1),!0;case"ArrowUp":return this.selectedResult>0&&(this.selectedResult-=1),!0;default:return!1}},submit:function(){var e=this;this.search.post("/api/user/search",!1).then(function(t){console.log(t),e.results=t}).catch(function(e){console.log("has an error")})}}}},Lczc:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}return r(e,[{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(e){if(this.errors[e])return this.errors[e][0]}},{key:"record",value:function(e){this.errors=e}},{key:"clear",value:function(e){e?delete this.errors[e]:this.errors={}}}]),e}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.originalData=t;for(var n in t)this[n]=t[n];this.errors=new s}return i(e,[{key:"data",value:function(){var e={};for(var t in this.originalData)e[t]=this[t];return e}},{key:"reset",value:function(){for(var e in this.originalData)this[e]="";this.errors.clear()}},{key:"get",value:function(e){return this.errors[e][0]}},{key:"post",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.submit("post",e,t)}},{key:"put",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.submit("put",e,t)}},{key:"patch",value:function(e){return this.submit("patch",e)}},{key:"delete",value:function(e){return this.submit("delete",e)}},{key:"submit",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(s,i){axios[e](t,n.data()).then(function(e){n.onSuccess(e.data,r),s(e.data)}).catch(function(e){n.onFail(e.response.data.errors),i(e.response.data.errors)})})}},{key:"onSuccess",value:function(e,t){1==t&&this.reset()}},{key:"onFail",value:function(e){this.errors.record(e)}}]),e}();t.a=a},"VU/8":function(e,t){e.exports=function(e,t,n,r,s,i){var a,o=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(a=e,o=e.default);var c="function"==typeof o?o.options:o;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId=s);var l;if(i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=r),l){var f=c.functional,h=f?c.render:c.beforeCreate;f?(c._injectStyles=l,c.render=function(e,t){return l.call(t),h(e,t)}):c.beforeCreate=h?[].concat(h,l):[l]}return{esModule:a,exports:o,options:c}}},ZLVf:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search.query,expression:"search.query"}],staticClass:"input",attrs:{type:"text",placeholder:"Search by name"},domProps:{value:e.search.query},on:{keydown:function(t){e.dynamicSearch(t)},input:function(t){t.target.composing||e.$set(e.search,"query",t.target.value)}}})]),e._v(" "),n("p",{staticClass:"control"},[n("button",{staticClass:"button is-primary",attrs:{disabled:""==e.search.query}},[e._v("\n\t      Search\n\t    ")])])]),e._v(" "),e.results.length>0?n("aside",{staticClass:"menu",staticStyle:{width:"25%",border:"1px solid #ccc"}},[n("ul",{staticClass:"menu-list"},e._l(e.results,function(t){return n("li",{class:{selected:e.isSelected==t.id},staticStyle:{"list-style":"none"}},[n("a",{attrs:{href:"profile/"+t.id},domProps:{textContent:e._s(t.name)}})])}))]):e._e(),e._v(" "),e.search.errors.has("query")?n("span",{staticClass:"help is-danger",domProps:{textContent:e._s(e.search.errors.get("query"))}}):e._e()])},staticRenderFns:[]}},"c+1i":function(e,t,n){"use strict";var r=n("mtWM"),s=n.n(r),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return i(e,[{key:"get",value:function(e){return this.request("get",e)}},{key:"put",value:function(e,t){return this.config.data=t,this.request("put",e)}},{key:"delete",value:function(e){return this.request("delete",e)}},{key:"getData",value:function(){if(void 0!=this.config.data)return this.config.data}},{key:"request",value:function(e,t){var n=this;return new Promise(function(r,i){s.a[e](n.getFullUri()+t,n.getData()).then(function(e){r(e.data)}).catch(function(e){i(e.response.data.errors)})})}},{key:"getFullUri",value:function(){return this.getPrefix()+this.getResource()+this.getParams()}},{key:"getPrefix",value:function(){return""!=this.config.uri.prefix?"/"+this.config.uri.prefix+"/":""}},{key:"getResource",value:function(){return""!=this.config.uri.resource?this.config.uri.resource+"/":""}},{key:"getParams",value:function(){return this.config.uri.params.length>0?this.config.uri.params[0].id+"/":""}},{key:"onSuccess",value:function(e){return e}}]),e}();t.a=a},d0ki:function(e,t,n){"use strict";t.a={users:[]}},vgNk:function(e,t,n){var r=n("VU/8")(n("GluO"),n("ZLVf"),!1,null,null,null);e.exports=r.exports}},[5]);